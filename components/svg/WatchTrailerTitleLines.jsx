import React, { useEffect, useRef } from 'react';
import { gsap } from 'gsap';

const WatchTrailerTitleLines = ({ containerClass }) => {
  const svgRef = useRef(null);

  useEffect(() => {
    const svg = svgRef.current;
    const paths = svg.querySelectorAll('path');

    gsap.set(paths, { strokeDasharray: 1000, strokeDashoffset: 1000 });

    const tl = gsap.timeline({ repeat: -1 });
    tl.to(paths, { strokeDashoffset: 0, duration: 5, ease: 'power1.inOut', stagger: 0.1 })
      .to(paths, { opacity: 1, duration: 5, ease: 'power1.inOut' })
      .to(paths, { strokeDashoffset: 1000, duration: 5, ease: 'power1.inOut', stagger: 0.1 })
      .to(paths, { opacity: 0, duration: 5, ease: 'power1.inOut' }, "-=5");

  }, []);

  return (
    <svg className={containerClass} ref={svgRef} width="365" height="77" viewBox="0 0 365 77" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M289.928 1.49493L288.992 1.52362L289.925 0.917512L289.928 1.49493ZM267.277 20.676L284.384 4.71278L275.331 27.9784L262.645 28.2499L267.277 20.676Z" stroke="#030402"/>
      <path d="M272.021 27.5354L264.73 26.8698L267.423 21.257L267.793 20.8246L276.303 13.1046L281.345 10.6628L276.835 22.3658L273.748 27.1352L272.021 27.5354Z" stroke="#030402"/>
      <path d="M7.37901 51.6486L13.2054 45.8089L13.0323 46.8563L9.6075 50.3646L9.59435 50.3781L9.58224 50.3925L7.32452 53.0834L7.22257 53.2049L7.37901 51.6486ZM36.1781 20.6341L14.2998 43.0453L14.4666 42.0432L37.0534 19.4047L36.1781 20.6341ZM42.3764 8.04889L41.8268 9.72498L43.6415 3.8863L43.6655 6.89742L42.5358 7.81689L42.4221 7.90949L42.3764 8.04889ZM6.46277 60.7639L7.21155 53.3146L7.20823 53.379L6.75167 62.2293L4.14599 64.0655L6.36965 61.008L6.44924 60.8985L6.46277 60.7639Z" fill="#43514C" stroke="#030402"/>
      <path d="M305.97 35.9162L313.119 40.0326L312.062 40.1366L307.787 37.7364L307.771 37.7272L307.754 37.7193L304.57 36.2349L304.426 36.1679L305.97 35.9162ZM343.382 55.7068L316.072 40.3745L317.083 40.2762L344.796 56.2341L343.382 55.7068ZM357.142 58.4366L355.381 58.3396L361.49 58.5813L358.588 59.3838L357.408 58.5306L357.289 58.4447L357.142 58.4366ZM296.928 37.3904L304.318 36.1856L304.254 36.1991L295.588 38.0487L293.14 36.0071L296.668 37.3636L296.795 37.4122L296.928 37.3904Z" fill="#43514C" stroke="#030402"/>
      <path d="M186.111 32.0464L190 36.3669L190 36.4049L186.623 32.7804L186.404 32.546L186.1 32.6466L179.81 34.7253L179.12 34.1873L178.909 34.0231L178.656 34.1069L167.62 37.7541L178.759 33.7135L179.589 34.2147L179.793 34.3382L180.018 34.2567L186.111 32.0464ZM211.7 40.2879L211.713 41.8027L210.514 41.7209L210.603 41.6136L211.7 40.2879ZM191.089 35.9886L191.234 35.5523L194.86 38.7738L191.089 35.9886ZM167.03 37.9354L167.071 37.9356L165.227 38.5451L165.208 37.925L167.03 37.9354Z" fill="#43514C" stroke="#030402"/>
      <path d="M129.918 31.7582L127.446 26.4381L127.485 26.3343L129.71 30.8993L129.839 31.165L130.153 31.1589L137.406 31.0183L137.939 31.7587L138.082 31.9581L138.342 31.9531L153.818 31.6531L153.604 32.2881L151.694 31.7298L151.613 31.7059L151.526 31.7099L138.096 32.3262L137.404 31.5824L137.254 31.4215L137.022 31.4321L129.918 31.7582ZM106.47 16.3503L107.031 14.8048L108.309 15.2629L108.172 15.3436L106.47 16.3503ZM126.257 26.5017L125.92 26.9163L123.072 22.3253L126.257 26.5017ZM117.186 19.4493L117.551 19.5617L117.195 19.4664L117.186 19.4493Z" fill="#43514C" stroke="#030402"/>
    </svg>
  );
};

export default WatchTrailerTitleLines;